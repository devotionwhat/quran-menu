<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>EASY! YouTube  Video Player  with Playlist - JQUERY</title>
    <link rel="stylesheet" href="https://public.codepenassets.com/css/normalize-5.0.0.min.css">
<link rel="stylesheet" href="./style.css">
<script src="https://public.codepenassets.com/js/prefixfree-1.0.7.min.js"></script>

  </head>
    
  <body>
  <section class="parent-container">

  <aside id="video-player">
    <!--  BEGIN PLAYER CONTAINER -->

    <!-- YouTube iFrame Embed -->

    <iframe id="YouTube-Iframe" class="lazyload" src="https://www.youtube.com/embed/Mif7mc0qe74?si=CkYZqPDdEyZC6lEC?autoplay=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

    <!-- VIDEO CAPTION  -->

    <div id="video-caption">Jon Batiste ‚ô© FREEDOM</div>

    <!-- BEGIN PLAYLIST CONTAINER  -->

    <div id="playlist">

      <!-- BUTTON MARK-UP  

 Button has two data-attribtes that update the
 player when clicked.

1.  data-iframe     = the url of the YouTube Video Embed
2.  data-caption    = video caption

YouTube URL/SRC must end with ?autoplay=1 for videos to autoplay.
Data caption is HTML - convert double quotes to single quotes
in data attribute mark-up - i.e. ' not " - Probably Need to format
your caption markup too. lol

Playlist button image is called from YouTube.  Uses the Video ID.

EASY WAY - copy a button and change out the
YouTube video ID with the new one and edit the caption.  Done!


-->

<script>
        // =============================================================
        // üîß CONFIGURE YOUR CHANNEL ID HERE
        // =============================================================
        const CHANNEL_ID = '@tadabburfhd'; // Example: Baby Shark Official
        // =============================================================

        const videoListDiv = document.getElementById('video-list');
        const playerIframe = document.getElementById('player-iframe');
        const channelInfoDiv = document.getElementById('channel-info');

        // Helper: convert channel ID (starts with "UC") to uploads playlist ID ("UU...")
        function getUploadsPlaylistId(channelId) {
            if (!channelId.startsWith('UC')) {
                throw new Error('Channel ID must start with "UC"');
            }
            return 'UU' + channelId.slice(2);
        }

        // Fetch videos from YouTube RSS
        async function fetchVideosFromChannel(channelId) {
            const playlistId = getUploadsPlaylistId(channelId);
            const rssUrl = `https://www.youtube.com/feeds/videos.xml?playlist_id=${playlistId}`;
            
            const response = await fetch(rssUrl);
            if (!response.ok) throw new Error(`HTTP error ${response.status}`);
            const xmlText = await response.text();
            const parser = new DOMParser();
            const xml = parser.parseFromString(xmlText, 'text/xml');
            
            // Check for parsing errors
            const errorNode = xml.querySelector('parsererror');
            if (errorNode) throw new Error('Failed to parse RSS feed');
            
            const entries = xml.querySelectorAll('entry');
            if (entries.length === 0) throw new Error('No videos found for this channel.');
            
            const videos = [];
            entries.forEach(entry => {
                // Try both namespaced and non-namespaced videoId
                let videoId = entry.querySelector('yt\\:videoId')?.textContent || entry.querySelector('videoId')?.textContent;
                const title = entry.querySelector('title')?.textContent;
                if (videoId && title) {
                    videos.push({ videoId, title });
                }
            });
            return videos;
        }

        // Render video buttons with the exact requested attributes
        function renderVideos(videos) {
            videoListDiv.innerHTML = '';
            if (videos.length === 0) {
                videoListDiv.innerHTML = '<div class="error">No videos to display.</div>';
                return;
            }
            videos.forEach(video => {
                const btn = document.createElement('div');
                btn.className = 'video-btn';
                
                // Set custom data attributes
                const thumbnailUrl = `//img.youtube.com/vi/${video.videoId}/sddefault.jpg`;
                const iframeUrl = `https://www.youtube.com/embed/${video.videoId}?autoplay=1`;
                btn.setAttribute('data-bg', thumbnailUrl);
                btn.setAttribute('data-iframe', iframeUrl);
                btn.setAttribute('data-caption', video.title);
                
                // Create thumbnail image
                const img = document.createElement('img');
                img.src = `https:${thumbnailUrl}`;  // use https for reliability
                img.alt = video.title;
                img.loading = 'lazy';
                
                const span = document.createElement('span');
                span.textContent = video.title;
                
                btn.appendChild(img);
                btn.appendChild(span);
                
                // Click handler: load video into iframe
                btn.addEventListener('click', () => {
                    playerIframe.src = btn.dataset.iframe;
                });
                
                videoListDiv.appendChild(btn);
            });
            
            // Automatically load the first video
            const firstBtn = videoListDiv.querySelector('.video-btn');
            if (firstBtn) firstBtn.click();
        }

        // Main function
        async function loadChannelVideos() {
            channelInfoDiv.textContent = `Channel ID: ${CHANNEL_ID}`;
            videoListDiv.innerHTML = '<div class="loading">Loading videos...</div>';
            
            try {
                const videos = await fetchVideosFromChannel(CHANNEL_ID);
                renderVideos(videos);
            } catch (error) {
                console.error(error);
                videoListDiv.innerHTML = `<div class="error">‚ùå ${error.message}<br>Make sure the channel ID is correct and try again later.</div>`;
            }
        }

        // Start automatically when page loads
        window.addEventListener('load', loadChannelVideos);
    </script>
      

      <button class="lazyload active" data-bg="//img.youtube.com/vi/Mif7mc0qe74/sddefault.jpg" data-iframe="https://www.youtube.com/embed/Mif7mc0qe74?si=CkYZqPDdEyZC6lEC" data-caption="ŸÖŸÉÿ© ÿßŸÑŸÖŸÉÿ±ŸÖÿ©">ÿßŸÑŸÖÿØŸäŸÜÿ© ÿßŸÑŸÖŸÜŸàÿ±ÿ©</button>

      <!-- MORE VIDEO BUTTONS  -->

      <button class="lazyload" data-bg="//img.youtube.com/vi/zAONg6OYmgc/sddefault.jpg" data-iframe="https://www.youtube.com/embed/zAONg6OYmgc?si=SZaKF-9WXTODFZ1z?autoplay=1" data-caption="ÿßŸÑŸÖÿØŸäŸÜÿ© ÿßŸÑŸÖŸÜŸàÿ±ÿ©">ÿßŸÑŸÖÿØŸäŸÜÿ© ÿßŸÑŸÖŸÜŸàÿ±ÿ©</button>

      <button class="lazyload" data-bg="//img.youtube.com/vi/cGoguR2gYn8/sddefault.jpg" data-iframe="https://www.youtube.com/embed/cGoguR2gYn8?autoplay=1" data-caption="Luke James ‚ô© 2013 .  Beyonc√© .  Mrs. Carter Show">Luke James</button>

      <button class="lazyload" data-bg="//img.youtube.com/vi/DjfMEE2krr4/sddefault.jpg" data-iframe="https://www.youtube.com/embed/DjfMEE2krr4?autoplay=1" data-caption="Chapal Hart ‚ô© American Pride">Chapal Hart</button>



      <button class="lazyload" data-bg="//img.youtube.com/vi/QlOfJTeXqKU/sddefault.jpg" data-iframe="https://www.youtube.com/embed/QlOfJTeXqKU?autoplay=1" data-caption="Shamarr Allen ‚ô© Dance with Me">Shamarr Allen</button>

      <button class="lazyload" data-bg="//img.youtube.com/vi/Hit10kFN2BQ/sddefault.jpg" data-iframe="https://www.youtube.com/embed/Hit10kFN2BQ?autoplay=1" data-caption="Shamarr Allen ‚ô© I LOVE YOU">Shamarr Allen</button>

      <button class="lazyload" data-bg="//img.youtube.com/vi/4WtmkES0X48/sddefault.jpg" data-iframe="https://www.youtube.com/embed/4WtmkES0X48?autoplay=1" data-caption="Kermit Ruffins ‚ô© Drop me Off in New Orleans">Kermit Ruffins</button>

      <button class="lazyload" data-bg="//img.youtube.com/vi/89Lum1zkRuU/sddefault.jpg" data-iframe="https://www.youtube.com/embed/89Lum1zkRuU?autoplay=1" data-caption="Luke James x Nu Deco Ensemble ‚ô© reprise two">Luke James</button>

      <!-- CODPEN IFRAME EMBED 
           As we are simply swapping out iframes, the player will work for
           any iframe embed so long as it fits the player container's 16/9 aspect ratio.
-->

      <button class="lazyload" data-bg="https://assets.codepen.io/191814/palyer-codepen.jpg?width=300&height=216&format=auto" data-iframe="https://codepen.io/mark_sottek/embed/zYWKKmz?default-tab=result&theme-id=dark" data-caption="Oz Cylone ‚ô© Codepen Iframe Embed">Codepen</button>

    </div> <!-- // END PLAYLIST CONTAINER  -->

  </aside> <!--  // END PLAYER CONTAINER -->
  
  <!--  DEMO COPY  -->
   <article>
    <h2>YouTube Player + Playlist</h2>
    <h3>Player Updated via Data Attributes</h3>

    <p> Player uses native YouTube Iframe Embeds. jQuery. No additional libraries needed.</p>

    <p>Videos in player are updated via jQuery data attributes.</p>

    <p> Simply, when a button is clicked - the values of the data attributes in the button HTML mark-up are written to the respective player elements - #YouTube-Iframe (SRC) and #video-caption (HTML) - overriding the current values and updating the player. </p>
    <p>Easy.</p>
     <p>++ a few New Orleans 'Dreamers'</p>

  </article>

  

</section>
    <script src='https://assets.codepen.io/191814/lazysizes-v5.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script><script  src="./script.js"></script>

  </body>
  
</html>
