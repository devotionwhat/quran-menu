<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quran Hub - Working UI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Fix the layout so the player doesn't scroll away */
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #121212; }
        
        .app { height: 100vh; display: flex; flex-direction: column; }
        
        /* Sticky Video Player */
        .video-container {
            width: 100%;
            aspect-ratio: 16 / 9;
            background: #000;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }
        iframe { width: 100%; height: 100%; border: none; }

        /* Scrollable Content Area */
        .screen-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 100px; /* Space for bottom menu */
            -webkit-overflow-scrolling: touch;
        }

        /* Video Item Improvements */
        .video__item { 
            cursor: pointer !important; 
            display: block; 
            margin-bottom: 20px;
            position: relative;
            z-index: 10;
        }
        
        /* Ensure click is registered even on the image */
        .video__cover { pointer-events: none; } 
        
        .video__title { color: #fff; font-size: 14px; margin: 10px 0 5px 0; }
        .video__channel { color: #aaa; font-size: 12px; }

        .categories { display: flex; overflow-x: auto; padding: 10px; gap: 10px; }
        .categories__link { background: #333; padding: 8px 15px; border-radius: 20px; text-decoration: none; color: white; white-space: nowrap; font-size: 12px; }
    </style>
</head>
<body>

<div class="app">
    <header class="header" style="padding: 10px;">
        <div class="header__logo">
            <h1 class="header__title" style="font-size: 18px; color: #E8003C;">Quran Hub</h1>
        </div>
    </header>

    <div class="video-container">
        <iframe id="main-player" 
                src="https://www.youtube.com/embed/Cm1v4bteXbI?autoplay=1&mute=1" 
                allow="autoplay; encrypted-media" 
                allowfullscreen>
        </iframe>
    </div>

    <div class="screen-content">
        <div class="categories">
            <a class="categories__link" href="#">Live</a>
            <a class="categories__link" href="#">Recitation</a>
            <a class="categories__link" href="#">Tafsir</a>
        </div>

        <div class="video" id="video-list" style="padding: 0 15px;">
            </div>
    </div>

    <nav class="menu">
        <ul class="menu__list">
            <li class="menu__item"><span class="menu__txt">Home</span></li>
            <li class="menu__item"><span class="menu__txt">Search</span></li>
            <li class="menu__item"><span class="menu__txt">Library</span></li>
        </ul>
    </nav>
</div>

<script>
    const quranVideos = [
        { title: "Makkah Live 24/7", channel: "Haramain", id: "Cm1v4bteXbI", type: "video" },
        { title: "Surah Al-Baqara", channel: "Sudais", id: "dOvTkWpHNAc", type: "video" },
        { title: "Quran Full Playlist", channel: "Various", id: "PLvc14zohWxi3gTNT_deSJY2LOksaY_fn_", type: "playlist" }
    ];

    const videoList = document.getElementById('video-list');
    const player = document.getElementById('main-player');

    function playVideo(id, type) {
        let baseUrl = "https://www.youtube.com/embed/";
        if (type === "playlist") {
            player.src = baseUrl + "videoseries?list=" + id + "&autoplay=1";
        } else {
            player.src = baseUrl + id + "?autoplay=1";
        }
        // Smooth scroll back to player
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    quranVideos.forEach(item => {
        const thumbUrl = `https://img.youtube.com/vi/${item.type === 'video' ? item.id : 'rqkAGOsBF0s'}/mqdefault.jpg`;
        
        const videoItem = document.createElement('div');
        videoItem.className = 'video__item';
        
        // We use an explicit onclick attribute to ensure it fires
        videoItem.setAttribute('onclick', `playVideo('${item.id}', '${item.type}')`);
        
        videoItem.innerHTML = `
            <div class="video__cover">
                <img class="video__img" src="${thumbUrl}" style="width:100%; border-radius:12px;">
            </div>
            <div class="video__info">
                <h2 class="video__title">${item.title}</h2>
                <h3 class="video__channel">${item.channel}</h3>
            </div>
        `;
        videoList.appendChild(videoItem);
    });
</script>

</body>
</html>
